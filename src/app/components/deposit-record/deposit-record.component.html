<div class="page-container">
  <div class="page-header">
    <button class="back-btn" (click)="goBack()">
      <i class="fas fa-arrow-left"></i>
    </button>
    <h2>Deposit Record</h2>
    <div class="header-icon">
      <i class="fas fa-plus-circle"></i>
    </div>
  </div>

  <div class="filter-section">
    <div class="filter-buttons">
      <button 
        class="filter-btn" 
        [class.active]="selectedFilter === 'all'"
        (click)="setFilter('all')">
        All
      </button>
      <button 
        class="filter-btn" 
        [class.active]="selectedFilter === 'pending'"
        (click)="setFilter('pending')">
        Pending
      </button>
      <button 
        class="filter-btn" 
        [class.active]="selectedFilter === 'completed'"
        (click)="setFilter('completed')">
        Completed
      </button>
      <button 
        class="filter-btn" 
        [class.active]="selectedFilter === 'failed'"
        (click)="setFilter('failed')">
        Failed
      </button>
    </div>
  </div>

  <div class="records-section">
    <div *ngIf="isLoading" class="status-message">
      <div class="spinner"></div>
      <p>Loading records...</p>
    </div>

    <div *ngIf="!isLoading && errorMessage" class="status-message error-message">
      <p>{{ errorMessage }}</p>
    </div>

    <div *ngIf="!isLoading && !errorMessage && filteredRecords.length === 0" class="no-records">
      <i class="fas fa-inbox"></i>
      <h3>No Records Found</h3>
      <p>You don't have any deposit records yet.</p>
    </div>

    <div *ngIf="!isLoading && !errorMessage" class="record-list">
      <div *ngFor="let record of filteredRecords" class="record-card">
        <div class="record-header">
          <div class="record-info">
            <h3>â‚¹{{record.amount}}</h3>
            <p>Razorpay</p>
          </div>
          <div class="record-status">
            <span class="status-badge" [ngClass]="record.status">
              {{getStatusText(record.status)}}
            </span>
          </div>
        </div>
        <div class="record-details">
          <div class="detail-item">
            <span class="label">Transaction ID:</span>
            <span class="value">{{record.payment_gateway_id}}</span>
          </div>
          <div class="detail-item">
            <span class="label">Date:</span>
            <span class="value">{{record.created_at | date:'MMM d, y, h:mm a'}}</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>